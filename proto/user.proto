syntax = "proto3";

package user;

// The user's ID according to BuildBuddy.
message UserId {
  string user_id = 1;
}

// The user's name, usually pulled initially from the authentication provider.
message Name {
  string name = 1;
  string first = 2;
  string last = 3;
}

// DisplayUser can be freely nested within other protos to indicate ownership.
// It only contains data useful across most APIs.
message DisplayUser {
  UserId user_id = 1;
  Name name = 2;
  string profile_image_url = 3;
}

message GetUserRequest {
  UserId user_id = 1;
}

message GetUserResponse {
  DisplayUser display_user = 1;

  // Other non-common stuff goes here.
}

message ModifyUserRequest {
  // If the user ID is set, the server will modify the specified user.
  // If unset, a new user will be created. (Assuming it matches the
  // request context and a user does not already exist).

  // Any *set* field in this request will update
  // the data in the database.
  Name name = 2;
}

message ModifyUserResponse {
  DisplayUser display_user = 1;

  // Other non-common stuff goes here.
}
